"use strict";(self["webpackChunkticketweb_frontstage"]=self["webpackChunkticketweb_frontstage"]||[]).push([[398],{398:function(e,a,s){s.r(a),s.d(a,{default:function(){return Y}});var l=s(252);const t={class:"admin py-5"},i={key:0,class:"container d-flex flex-column align-items-center"},r=(0,l._)("ul",{class:"nav pb-4",id:"pills-tab",role:"tablist"},[(0,l._)("li",{class:"me-3",role:"presentation"},[(0,l._)("button",{class:"btn btn-outline-primary active",id:"login","data-bs-toggle":"pill","data-bs-target":"#pills-login",type:"button",role:"tab","aria-controls":"pills-login","aria-selected":"true"},"會員登入")]),(0,l._)("li",{role:"presentation"},[(0,l._)("button",{class:"btn btn-outline-primary",id:"pills-register-tab","data-bs-toggle":"pill","data-bs-target":"#pills-register",type:"button",role:"tab","aria-controls":"pills-register","aria-selected":"false"},"會員註冊")])],-1),n={class:"tab-content border-top border-3",id:"pills-tabContent"},o={class:"tab-pane fade show active",id:"pills-login",role:"tabpanel","aria-labelledby":"pills-login-tab"},d={class:"tab-pane fade",id:"pills-register",role:"tabpanel","aria-labelledby":"pills-register-tab"},c={key:1,class:"container"},p={class:"d-flex justify-content-between"},b={class:"d-flex"},u=(0,l.Uk)("修改會員資料"),m=(0,l.Uk)("查看票券"),f=(0,l._)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," 登出 ",-1),g={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_={class:"modal-dialog"},v={class:"modal-content"},w=(0,l._)("div",{class:"modal-header"},[(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y=(0,l._)("div",{class:"modal-body text-center"}," 登出後，尚未完成結帳之商品將被清除! ",-1),x={class:"modal-footer"},k=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"保持登入",-1);function h(e,a,s,h,U,P){const C=(0,l.up)("Login"),L=(0,l.up)("Register"),R=(0,l.up)("router-link"),q=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",t,[null==e.user?((0,l.wg)(),(0,l.iD)("div",i,[r,(0,l._)("div",n,[(0,l._)("div",o,[(0,l.Wm)(C)]),(0,l._)("div",d,[(0,l.Wm)(L)])])])):((0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",p,[(0,l._)("div",b,[(0,l.Wm)(R,{to:{name:"UserInfo"},class:"btn btn-outline-primary me-3"},{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(R,{to:{name:"MyTicket"},class:"btn btn-outline-primary"},{default:(0,l.w5)((()=>[m])),_:1})]),f]),(0,l.Wm)(q),(0,l._)("div",g,[(0,l._)("div",_,[(0,l._)("div",v,[w,y,(0,l._)("div",x,[k,(0,l._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=e=>h.logout())},"確認登出")])])])])]))])}var U=s(963);const P={class:"login pt-4"},C={class:"d-flex flex-column mb-2"},L=(0,l._)("label",{class:"mb-1",for:"email"},"帳號信箱",-1),R={class:"d-flex flex-column mb-2"},q=(0,l._)("label",{class:"mb-1",for:"password"},"帳號密碼",-1),D=(0,l._)("div",{class:"d-flex flex-column pt-3"},[(0,l._)("input",{class:"btn btn-primary",type:"submit",value:"登入"})],-1);function H(e,a,s,t,i,r){return(0,l.wg)(),(0,l.iD)("div",P,[(0,l._)("form",{onSubmit:a[2]||(a[2]=(0,U.iM)(((...e)=>t.Login&&t.Login(...e)),["prevent"]))},[(0,l._)("div",C,[L,(0,l.wy)((0,l._)("input",{class:"fs-5 mb-2",type:"email",id:"email",placeholder:"輸入信箱","onUpdate:modelValue":a[0]||(a[0]=e=>t.email=e),required:""},null,512),[[U.nr,t.email]])]),(0,l._)("div",R,[q,(0,l.wy)((0,l._)("input",{class:"fs-5 mb-2",type:"password",placeholder:"輸入密碼","onUpdate:modelValue":a[1]||(a[1]=e=>t.password=e),required:""},null,512),[[U.nr,t.password]])]),D],32)])}var V=s(262),W=s(709),B={name:"Login",setup(){const e=(0,W.oR)(),a=(0,V.iH)(""),s=(0,V.iH)("");function l(){e.dispatch("loginUser",{email:a.value,password:s.value})}return{email:a,password:s,Login:l}}};B.render=H;var M=B,F=s(577);const S={class:"register pt-4"},j={class:"d-flex flex-column mb-2"},z=(0,l._)("label",{class:"mb-1",for:"setemail"},"帳號信箱",-1),A={class:"d-flex flex-column mb-2"},I=(0,l._)("label",{class:"mb-1",for:"setpassword"},"帳號密碼",-1),T={class:"d-flex flex-column mb-2"},E={class:"mb-1",for:"setconfirmPassword"},G=(0,l.Uk)("確認密碼 "),J={class:"fs-6 text-danger"},K=(0,l._)("div",{class:"d-flex flex-column pt-3"},[(0,l._)("input",{class:"btn btn-primary",type:"submit",value:"註冊"})],-1);function N(e,a,s,t,i,r){return(0,l.wg)(),(0,l.iD)("div",S,[(0,l._)("form",{onSubmit:a[3]||(a[3]=(0,U.iM)(((...e)=>t.register&&t.register(...e)),["prevent"]))},[(0,l._)("div",j,[z,(0,l.wy)((0,l._)("input",{class:"fs-5 mb-2",type:"email",id:"setemail",placeholder:"輸入信箱","onUpdate:modelValue":a[0]||(a[0]=e=>t.email=e),required:""},null,512),[[U.nr,t.email]])]),(0,l._)("div",A,[I,(0,l.wy)((0,l._)("input",{class:"fs-5 mb-2",type:"password",id:"setpassword",placeholder:"輸入密碼","onUpdate:modelValue":a[1]||(a[1]=e=>t.password=e),required:""},null,512),[[U.nr,t.password]])]),(0,l._)("div",T,[(0,l._)("label",E,[G,(0,l._)("span",J,(0,F.zw)(t.comparePassword),1)]),(0,l.wy)((0,l._)("input",{class:"fs-5 mb-2",type:"Password",id:"setconfirmPassword",placeholder:"再次輸入密碼","onUpdate:modelValue":a[2]||(a[2]=e=>t.confirmPassword=e),required:""},null,512),[[U.nr,t.confirmPassword]])]),K],32)])}var O={name:"Register",setup(){const e=(0,W.oR)(),a=(0,V.iH)(""),s=(0,V.iH)(""),l=(0,V.iH)(""),t=(0,V.Fl)((()=>s.value!==l.value?"密碼不相符":""));function i(){e.dispatch("registerUser",{email:a.value,password:s.value})}return{email:a,password:s,confirmPassword:l,comparePassword:t,register:i}}};O.render=N;var Q=O,X={name:"Admin",components:{Login:M,Register:Q},setup(){const e=(0,W.oR)();async function a(){e.dispatch("logout"),e.dispatch("clearCart")}return(0,l.wF)((()=>{e.dispatch("getCurrentUser")})),{logout:a}}};X.render=h;var Y=X}}]);
//# sourceMappingURL=398.f6927e51.js.map