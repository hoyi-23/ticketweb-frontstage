{"version":3,"file":"static/js/696.98e51c0d.js","mappings":"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","sources":["webpack://ticketweb-frontstage/./src/views/Search.vue","webpack://ticketweb-frontstage/./src/views/Search.vue?b577"],"sourcesContent":["<template>\r\n    <div class=\"search position-relative\">\r\n        <!--banner-->\r\n        <div class=\"search__banner d-flex justify-content-center align-items-center bg-dark\">\r\n            <p class=\"m-0 text-white fs-4 py-5\">探索活動發掘精彩</p>\r\n        </div>\r\n        <div class=\"container mt-5 mb-4\">\r\n            <div class=\"row\">\r\n                <!--搜尋Input-->\r\n                <div class=\"input__group col-md-6 d-flex\">\r\n                    <span class=\"bg-primary material-icons-outlined text-white px-3 py-1\">search</span>\r\n                    <input class=\"bg-primary border-0 text-white py-1\" \r\n                    type=\"text form-control\" placeholder=\"搜尋一場精彩活動\" v-model=\"searchInput\">\r\n                </div>\r\n                <!--filter 價錢 & 時間-->\r\n                <div class=\"col-md-6 d-flex align-items-center justify-content-center mt-2 mt-md-0\">\r\n                    <div class=\"form-check\">\r\n                        <input  type=\"radio\" v-model=\"sortBy\" id=\"byprice\" value=\"byPrice\">\r\n                        <label  for=\"byprice\">\r\n                            依價格排序\r\n                        </label>\r\n                    </div>\r\n                    <div class=\"form-check ps-5\">\r\n                        <input  type=\"radio\" v-model=\"sortBy\" id=\"bydate\" value=\"byDate\" checked>\r\n                        <label  for=\"bydate\">\r\n                            依照時間排序\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--Filter Tag-->\r\n            <div class=\"row mt-4 align-items-center\">\r\n                <div class=\"col-12 col-md-1\">活動類別</div>\r\n                <div class=\"col-12 col-md-11\">\r\n                    <ul class=\"eventTagList d-flex m-0 flex-wrap\">\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"music\">音樂</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"music\" value=\"music\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"drama\">戲劇</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"drama\" value=\"drama\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"art\">藝術</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"art\" value=\"art\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"design\">設計</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"design\" value=\"design\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"dance\">舞蹈</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"dance\" value=\"dance\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"food\">美食</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"food\" value=\"food\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"travel\">旅遊</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"travel\" value=\"travel\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"family\">親子</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"family\" value=\"family\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"movie\">影劇</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"movie\" value=\"movie\" v-model=\"byCategory\">\r\n                        </li>\r\n                        <li>\r\n                            <label class=\"tag me-2 mt-2 mt-md-0 py-1 px-2\" for=\"clear\">全部</label>\r\n                            <input class=\"d-none\" type=\"radio\" id=\"clear\" value=\"\" v-model=\"byCategory\">\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--Event Card-->\r\n        <div class=\"container pt-5 mb-5 border-top border-1\">\r\n            <ul class=\"row p-0 g-4\">\r\n                <EventCard \r\n                    v-for=\"item in searchResultArray\" \r\n                    :key=\"item.eventId\" \r\n                    :Event=\"item\"></EventCard>\r\n            </ul>\r\n        </div>\r\n        <!--cart-->\r\n        <CartOpenIcon></CartOpenIcon>\r\n        <!--Footer--> \r\n        <Footer></Footer>\r\n        <!--cart-->\r\n        <CartContent />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CartOpenIcon from '../components/CartOpenIcon.vue'\r\nimport CartContent from '../components/CartContent.vue'\r\nimport Footer from '../components/Footer.vue'\r\nimport EventCard from '../components/EventCard.vue'\r\n\r\n//import { mapFields } from 'vuex-map-fields'\r\nimport {computed,ref} from 'vue'\r\nimport {useStore} from 'vuex'\r\n\r\nexport default {\r\n    name: 'Search',\r\n    components: {\r\n        CartOpenIcon,\r\n        CartContent,\r\n        Footer,\r\n        EventCard\r\n    },\r\n  setup(){\r\n        const store = useStore();\r\n        const productDataArray = computed(()=>store.getters.productData)\r\n\r\n        const searchInput = ref(null);\r\n        const sortBy = ref(null);\r\n        const byCategory = ref(null);\r\n\r\n        //先依照類別過濾\r\n        const byCategoryResult = computed(()=>{\r\n            if(byCategory.value){\r\n                return productDataArray.value.filter(item => item.eventCategory === byCategory.value)\r\n            }else{\r\n                return productDataArray.value\r\n            }\r\n        })\r\n        //再依輸入框過濾\r\n        const inputResult = computed(()=>{\r\n            if(searchInput.value){\r\n                const wordToMatch = searchInput.value;\r\n                const reg = new RegExp(wordToMatch, 'gi');\r\n                return byCategoryResult.value.filter(item => item.eventTitle.match(reg))\r\n            }else{\r\n                return byCategoryResult.value\r\n            }\r\n        })\r\n        //再判斷排序方式\r\n        const searchResultArray = computed(()=>{\r\n            if(sortBy.value === 'byPrice'){\r\n                return inputResult.value.sort((a,b)=>{\r\n                    console.log(inputResult.value)\r\n                    return parseInt(a.eventFullPrice) > parseInt(b.eventFullPrice) ? 1 : -1\r\n                })\r\n            }else{\r\n                return inputResult.value.sort((a,b)=>{\r\n                    return Math.floor(new Date(a.eventStartDate) / 1000) > Math.floor(new Date(b.eventStartDate) / 1000) ? 1 : -1\r\n                })\r\n            }\r\n\r\n            \r\n        })\r\n\r\n\r\n  return{\r\n        productDataArray,\r\n        searchInput,\r\n        sortBy,\r\n        byCategory,\r\n        searchResultArray,\r\n        inputResult,\r\n        byCategoryResult\r\n\r\n  }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .input__group {\r\n        span{\r\n            line-height: 30px;\r\n        }\r\n        input{\r\n            width: 100%;\r\n        }\r\n    }\r\n    .tag{\r\n        cursor: pointer;\r\n        background: #630834;\r\n        border-radius: 20px;\r\n        color: #fff;\r\n    }\r\n    .tag:hover{\r\n        background: #E31277;\r\n    }\r\n</style>\r\n","import { render } from \"./Search.vue?vue&type=template&id=5fd48691&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=5fd48691&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5fd48691\"\n\nexport default script"],"names":["class","for","type","placeholder","searchInput","sortBy","id","value","checked","byCategory","searchResultArray","item","key","eventId","Event","name","components","CartOpenIcon","CartContent","Footer","EventCard","setup","store","productDataArray","getters","productData","byCategoryResult","filter","eventCategory","inputResult","wordToMatch","reg","RegExp","eventTitle","match","sort","a","b","console","log","parseInt","eventFullPrice","Math","floor","Date","eventStartDate","render"],"sourceRoot":""}