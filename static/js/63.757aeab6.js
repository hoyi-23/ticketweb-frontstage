"use strict";(self["webpackChunkticketweb_frontstage"]=self["webpackChunkticketweb_frontstage"]||[]).push([[63],{447:function(t,e,l){l.d(e,{Z:function(){return E}});var n=l(252),s=l(577),a=l(963);(0,n.dD)("data-v-2521a676");const c={class:"cart__header d-flex justify-content-between"},i=(0,n._)("h2",{class:"fs-2 fw-bold text-white m-0"},"購物車",-1),o={class:"cart__body"},r={key:0,class:"emptyCart d-flex flex-column justify-content-center"},d=(0,n._)("iframe",{src:"https://giphy.com/embed/5toDkVpRmmqtWD0orR",width:"auto",height:"30%",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),u=[d],f={key:1,class:"cartList mt-2"},g={class:"bg-dark rounded d-flex flex-column py-3"},v={class:"fs-5 text-white text-nowrap text-center border-bottom border-1 pb-2"},_={class:"align-items-center justify-content-evenly d-flex"},m={class:"d-flex flex-column"},x={key:0,class:"m-0 text-white"},w={key:1,class:"m-0 text-white"},p={key:2,class:"m-0 text-white"},k={class:"m-0 text-white"},b=["onClick"],h=(0,n._)("span",{class:"fs-1 material-icons-outlined text-white"},"delete_forever",-1),C=[h],y={class:"fs-3 text-white"},D={class:"cart__footer d-flex flex-column pt-2"},F=(0,n.Uk)("結帳去"),q={key:0,class:"cart__recommand d-flex flex-column mt-3"},z=(0,n._)("p",{class:"fs-5 text-white fw-bold"}," 猜你會喜歡 >> ",-1),T={class:"bg-dark rounded"},I={class:"d-flex"},W=["src","alt"],P={class:"recommend__content py-3 px-2"},U={class:"fs-5 text-white"},R={class:"small text-white"},H=(0,n.Uk)("看詳細資訊");function Z(t,e,l,d,h,Z){const j=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(["cartcontent position-fixed top-0 py-4 px-3 d-flex flex-column",{slidein:d.showCartContent}])},[(0,n._)("div",c,[i,(0,n._)("span",{onClick:e[0]||(e[0]=(...t)=>d.closingCartContent&&d.closingCartContent(...t)),class:"closeIcon material-icons-outlined fs-2 fw-bold text-white"},"disabled_by_default")]),(0,n._)("div",o,[d.cartContent.length<=0?((0,n.wg)(),(0,n.iD)("div",r,u)):(0,n.kq)("",!0),d.cartContent.length>0?((0,n.wg)(),(0,n.iD)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.cartContent,((t,e)=>((0,n.wg)(),(0,n.iD)("ul",{class:"d-flex flex-column",key:e},[(0,n._)("li",g,[(0,n._)("h2",v,(0,s.zw)(t.title),1),(0,n._)("div",_,[(0,n._)("div",m,[t.num.full>0?((0,n.wg)(),(0,n.iD)("p",x,"全票 X "+(0,s.zw)(t.num.full)+" 張",1)):(0,n.kq)("",!0),t.num.student>0?((0,n.wg)(),(0,n.iD)("p",w,"學生票 X "+(0,s.zw)(t.num.student)+" 張",1)):(0,n.kq)("",!0),t.num.discount>0?((0,n.wg)(),(0,n.iD)("p",p,"優待票 X "+(0,s.zw)(t.num.discount)+" 張",1)):(0,n.kq)("",!0)]),(0,n._)("p",k,"小計: "+(0,s.zw)(t.subTotal),1),(0,n._)("a",{href:"#",onClick:(0,a.iM)((l=>d.deleteFromCart(e,t.subTotal)),["prevent"])},C,8,b)])])])))),128)),(0,n._)("p",y,"總計: "+(0,s.zw)(d.total),1)])):(0,n.kq)("",!0)]),(0,n._)("div",D,[(0,n.Wm)(j,{to:"/checkout",class:"btn btn-secondary rounded"},{default:(0,n.w5)((()=>[F])),_:1}),d.cartContent.length<=0?((0,n.wg)(),(0,n.iD)("div",q,[z,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.recommendEventArray.slice(0,3),(t=>((0,n.wg)(),(0,n.iD)("ul",{class:"d-flex flex-column",key:t.eventId},[(0,n._)("li",T,[(0,n._)("div",I,[(0,n._)("img",{src:t.eventPhotos,alt:t.eventTitle,class:"recommend__img"},null,8,W),(0,n._)("div",P,[(0,n._)("h2",U,(0,s.zw)(t.eventTitle),1),(0,n._)("p",R,(0,s.zw)(`${t.eventDescription.substring(0,25)}...`),1),(0,n.Wm)(j,{to:`/eventdetail/${t.eventId}`,class:"btn btn-primary btn-sm"},{default:(0,n.w5)((()=>[H])),_:2},1032,["to"])])])])])))),128))])):(0,n.kq)("",!0)])],2)}(0,n.Cn)();var j=l(262),Q=l(709),A={name:"CartContent",setup(){const t=(0,Q.oR)(),e=(0,j.Fl)((()=>t.getters.cartContent)),l=(0,j.Fl)((()=>t.getters.showCartContent));function s(){t.dispatch("showingCartContent",!1)}const a=(0,j.Fl)((()=>t.getters.productData)),c=(0,j.Fl)((()=>a.value.filter((t=>"temp"===t.eventType))));function i(e,l){t.dispatch("deleteFromCart",{index:e,subTotal:l})}const o=(0,j.Fl)((()=>t.getters.total));return(0,n.wF)((()=>{t.dispatch("getCartContent")})),{cartContent:e,closingCartContent:s,showCartContent:l,productData:a,recommendEventArray:c,deleteFromCart:i,total:o}}};A.render=Z,A.__scopeId="data-v-2521a676";var E=A},994:function(t,e,l){l.d(e,{Z:function(){return r}});var n=l(252);(0,n.dD)("data-v-5d04789f");const s=(0,n._)("span",{class:"material-icons-outlined bg-secondary p-2 rounded text-white fs-1 "},"shopping_cart",-1),a=[s];function c(t,e,l,s,c,i){return(0,n.wg)(),(0,n.iD)("div",{class:"cartIcon position-fixed d-block",onClick:e[0]||(e[0]=(...t)=>s.showingCartContent&&s.showingCartContent(...t))},a)}(0,n.Cn)();var i=l(709),o={name:"CartOpenIcon",setup(){const t=(0,i.oR)();function e(){t.dispatch("showingCartContent",!0)}return{showingCartContent:e}}};o.render=c,o.__scopeId="data-v-5d04789f";var r=o},177:function(t,e,l){l.d(e,{Z:function(){return D}});var n=l(252);const s={class:"footer mt-5 d-flex flex-column"},a={class:"footer__body bg-primary py-5"},c={class:"container footer__content"},i={class:"row"},o={class:"col col-lg-4"},r=(0,n._)("div",{class:"text-lighter mb-2"},"參與活動",-1),d=(0,n.Uk)("探索所有活動"),u=(0,n.Uk)("購票流程說明"),f={class:"col col-lg-4"},g=(0,n._)("div",{class:"text-lighter mb-2"},"認識方格子",-1),v=(0,n.Uk)("常見問題"),_=(0,n.Uk)("聯絡我們"),m=(0,n.Uk)("隱私權政策"),x=(0,n.Uk)("服務條款"),w={class:"col col-lg-4"},p=(0,n._)("div",{class:"text-lighter mb-2"},"追蹤方格子",-1),k=(0,n.Uk)("Facebook"),b=(0,n.Uk)("Instagram"),h=(0,n._)("div",{class:"footer_bottom d-flex justify-content-center align-items-center flex-column flex-md-row py-3"},[(0,n._)("h1",{class:"fs-5 text-primary fw-bold pe-3 m-0 text-nowrap"},"方格子劇場"),(0,n._)("span",{class:"text-nowrap"},"Hoyi-23 © 2020. All Rights Reserved.")],-1);function C(t,e,l,C,y,D){const F=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",a,[(0,n._)("div",c,[(0,n._)("div",i,[(0,n._)("div",o,[r,(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(F,{to:"/search",class:"text-lighter"},{default:(0,n.w5)((()=>[d])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[u])),_:1})])])]),(0,n._)("div",f,[g,(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[v])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[_])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[m])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[x])),_:1})])])]),(0,n._)("div",w,[p,(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[k])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(F,{to:"#",class:"text-lighter"},{default:(0,n.w5)((()=>[b])),_:1})])])])])])]),h])}var y={name:"Footer"};y.render=C;var D=y},63:function(t,e,l){l.r(e),l.d(e,{default:function(){return at}});var n=l(252),s=l(577);(0,n.dD)("data-v-1d2b9181");const a={class:"eventDetail"},c={class:"container pt-5 pb-lg-4"},i={class:"row align-items-center"},o={class:"col-12 col-lg-6"},r=["src","alt"],d={class:"col-12 col-lg-6 d-flex flex-column"},u={class:"text-center py-3 pt-lg-0  fw-bold"},f={class:"contentDetail border-top border-3 py-3"},g=(0,n._)("h2",{class:"fs-4 fw-bold"},"活動介紹",-1),v={class:"py-2"},_={class:"d-flex"},m={key:0,class:"fs-6 badge bg-light text-dark"},x={key:1,class:"fs-6 badge bg-light text-dark"},w={class:"ps-2"},p={key:0,class:"fs-6 badge bg-light text-dark"},k={key:1,class:"fs-6 badge bg-light text-dark"},b={key:2,class:"fs-6 badge bg-light text-dark"},h={key:3,class:"fs-6 badge bg-light text-dark"},C={key:4,class:"fs-6 badge bg-light text-dark"},y={key:5,class:"fs-6 badge bg-light text-dark"},D={key:6,class:"fs-6 badge bg-light text-dark"},F={key:7,class:"fs-6 badge bg-light text-dark"},q={key:8,class:"fs-6 badge bg-light text-dark"},z={class:"container"},T={class:"row"},I={class:"col-12 col-md-4 my-2 my-lg-0"},W={class:"priceDetail d-flex align-items-center border border-5 py-4 rounded"},P={class:"px-3"},U=(0,n._)("span",{class:"fs-6"},"全票",-1),R={class:"fs-3 m-0"},H={class:"d-flex align-items-center flex-fill"},Z={class:"fs-1 flex-grow-1 text-center"},j={class:"col-12 col-md-4 my-2 my-lg-0"},Q={class:"priceDetail d-flex align-items-center border border-5 py-4 rounded"},A={class:"px-3"},E=(0,n._)("span",{class:"fs-6"},"學生票",-1),O={class:"fs-3 m-0"},S={class:"d-flex align-items-center flex-fill"},X={class:"fs-1 flex-grow-1 text-center"},Y={class:"col-12 col-md-4 my-2 my-lg-0"},K={class:"priceDetail d-flex align-items-center border border-5 py-4 rounded"},$={class:"px-3"},B=(0,n._)("span",{class:"fs-6"},"優待票",-1),L={class:"fs-3 m-0"},M={class:"d-flex align-items-center flex-fill"},V={class:"fs-1 flex-grow-1 text-center"};function G(t,e,l,G,J,N){const tt=(0,n.up)("CartOpenIcon"),et=(0,n.up)("Footer"),lt=(0,n.up)("CartContent");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",c,[(0,n._)("div",i,[(0,n._)("div",o,[(0,n._)("img",{src:G.eventData.eventPhotos,alt:G.eventData.eventTitle,class:"img",style:{"max-height":"500px"}},null,8,r)]),(0,n._)("div",d,[(0,n._)("h1",u,(0,s.zw)(G.eventData.eventTitle),1),(0,n._)("div",f,[g,(0,n._)("p",v,(0,s.zw)(G.eventData.eventDescription),1),(0,n._)("div",_,[(0,n._)("ul",null,["temp"===G.eventData.eventType?((0,n.wg)(),(0,n.iD)("li",m,"短期活動")):(0,n.kq)("",!0),"regular"===G.eventData.eventType?((0,n.wg)(),(0,n.iD)("li",x,"常設活動")):(0,n.kq)("",!0)]),(0,n._)("ul",w,["music"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",p,"音樂")):(0,n.kq)("",!0),"movie"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",k,"影劇")):(0,n.kq)("",!0),"dance"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",b,"舞蹈")):(0,n.kq)("",!0),"art"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",h,"藝術")):(0,n.kq)("",!0),"design"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",C,"設計")):(0,n.kq)("",!0),"food"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",y,"美食")):(0,n.kq)("",!0),"travel"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",D,"旅遊")):(0,n.kq)("",!0),"family"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",F,"親子")):(0,n.kq)("",!0),"drama"===G.eventData.eventCategory?((0,n.wg)(),(0,n.iD)("li",q,"戲劇")):(0,n.kq)("",!0)])])]),(0,n._)("div",{class:"d-block btn addToCart py-2 text-center rounded",onClick:e[0]||(e[0]=t=>G.addToCart(G.ticketQuan,G.eventData))}," 加入購物車 ")])])]),(0,n._)("div",z,[(0,n._)("ul",T,[(0,n._)("li",I,[(0,n._)("div",W,[(0,n._)("div",P,[U,(0,n._)("p",R,(0,s.zw)(G.eventData.eventFullPrice),1)]),(0,n._)("ul",H,[(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[1]||(e[1]=t=>G.add("full"))},"+"),(0,n._)("li",Z,(0,s.zw)(G.ticketQuan.full),1),(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[2]||(e[2]=t=>G.minus("full"))},"-")])])]),(0,n._)("li",j,[(0,n._)("div",Q,[(0,n._)("div",A,[E,(0,n._)("p",O,(0,s.zw)(G.eventData.eventStudentPrice),1)]),(0,n._)("ul",S,[(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[3]||(e[3]=t=>G.add("student"))},"+"),(0,n._)("li",X,(0,s.zw)(G.ticketQuan.student),1),(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[4]||(e[4]=t=>G.minus("student"))},"-")])])]),(0,n._)("li",Y,[(0,n._)("div",K,[(0,n._)("div",$,[B,(0,n._)("p",L,(0,s.zw)(G.eventData.eventDiscountPrice),1)]),(0,n._)("ul",M,[(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[5]||(e[5]=t=>G.add("discount"))},"+"),(0,n._)("li",V,(0,s.zw)(G.ticketQuan.discount),1),(0,n._)("li",{class:"fs-2 flex-grow-1 text-center btn",onClick:e[6]||(e[6]=t=>G.minus("discount"))},"-")])])])])]),(0,n.Wm)(tt),(0,n.Wm)(et),(0,n.Wm)(lt)])}(0,n.Cn)();var J=l(994),N=l(447),tt=l(177),et=l(262),lt=l(119),nt=l(709),st={name:"EventDetail",components:{CartOpenIcon:J.Z,CartContent:N.Z,Footer:tt.Z},setup(){const t=(0,nt.oR)(),e=(0,lt.yj)(),l=(0,et.iH)([]),s=(0,et.Fl)((()=>e.params.eventId)),a=(0,et.Fl)((()=>t.getters.productData));function c(t){const e=a.value.filter((e=>e.eventId==t));return i.value.full=0,i.value.student=0,i.value.discount=0,e[0]}(0,n.wF)((()=>{l.value=c(s.value)})),(0,n.YP)(s,(t=>{l.value=c(t)}));const i=(0,et.iH)({full:0,student:0,discount:0});function o(t){"full"===t&&i.value.full++,"student"===t&&i.value.student++,"discount"===t&&i.value.discount++}function r(t){"full"===t&&i.value.full>0&&i.value.full--,"student"===t&&i.value.student>0&&i.value.student--,"discount"===t&&i.value.discount>0&&i.value.discount--}function d(e,l){if(console.log(e.full),0!=e.full||0!=e.student||0!=e.discount){const n=(0,et.iH)({title:l.eventTitle,id:l.eventId,num:{full:e.full,student:e.student,discount:e.discount},subTotal:l.eventFullPrice*e.full+l.eventStudentPrice*e.student+l.eventDiscountPrice*e.discount});t.dispatch("addToCart",n.value),console.log(n.value),e.full=0,e.student=0,e.discount=0,alert("加入完成")}else alert("請選擇票券數量")}return{eventId:s,eventData:l,AllProduct:a,ticketQuan:i,addToCart:d,add:o,minus:r}}};st.render=G,st.__scopeId="data-v-1d2b9181";var at=st}}]);
//# sourceMappingURL=63.757aeab6.js.map