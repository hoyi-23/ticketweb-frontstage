{"version":3,"file":"static/js/714.7d39306a.js","mappings":"kNACSA,MAAM,Q,GAEMA,MAAM,Y,GACP,OAAqD,SAA9CC,IAAI,WAAWD,MAAM,cAAa,QAAI,G,GAG5CA,MAAM,Y,GACP,OAAoD,SAA7CC,IAAI,UAAUD,MAAM,cAAa,QAAI,G,GAG3CA,MAAM,Y,GACP,OAAsD,SAA/CC,IAAI,YAAYD,MAAM,cAAa,QAAI,G,GAIlD,OAKM,OALDA,MAAM,wDAAsD,EAE7D,OAA4D,UAApDE,KAAK,QAAQF,MAAM,uBAAsB,OAEjD,OAAyD,UAAjDE,KAAK,SAASF,MAAM,mBAAkB,QAJlD,G,0CAfZ,QAsBM,MAtBN,EAsBM,EArBF,OAoBW,QApBJ,SAAM,8BAAU,EAAAG,gBAAA,EAAAA,kBAAA,IAAc,cAAEH,MAAM,WAA7C,EACQ,OAGM,MAHN,EAGM,CAFF,GAEE,SADF,OAA2G,SAApGE,KAAK,OAAOF,MAAM,eAAeI,GAAG,W,qCAAoB,EAAAC,SAASC,KAAI,GAAEC,YAAY,QAAQC,SAAA,IAAlG,iBAA+D,EAAAH,SAASC,WAE5E,OAGM,MAHN,EAGM,CAFF,GAEE,SADF,OAA6G,SAAtGJ,KAAK,MAAMF,MAAM,eAAeI,GAAG,U,qCAAmB,EAAAC,SAASI,IAAG,GAAEF,YAAY,aAAaC,SAAA,IAApG,iBAA6D,EAAAH,SAASI,UAE1E,OAGM,MAHN,EAGM,CAFF,GAEE,SADF,OAA0F,SAAnFP,KAAK,QAAQF,MAAM,eAAeI,GAAG,Y,qCAAqB,EAAAC,SAASK,MAAK,GAAEC,SAAA,IAAjF,iBAAiE,EAAAN,SAASK,WAG9E,GAdR,M,wCA6BR,GACIJ,KAAM,WACNM,QAEI,MAAMC,GAAQ,UACRC,GAAW,SAAS,IAAID,EAAME,QAAQC,OAEtCX,GAAW,QAAI,CACjBC,KAAMQ,EAASG,MAAMC,YACrBT,IAAKK,EAASG,MAAME,YACpBT,MAAOI,EAASG,MAAMP,QAG1B,SAASP,IACL,MAAMa,EAAO,SAAc,aAAkBI,YAE7CJ,EAAKK,cAAc,CACfH,YAAab,EAASY,MAAMX,OAC7BgB,MAAK,KACJC,MAAM,2BACPC,OAAOC,IACNF,MAAME,MAGVZ,EAAMa,SAAS,gBAAgBV,GAGnC,MAAM,CACFF,SAAAA,EACAT,SAAAA,EACAF,eAAAA,KC1DZ,SAAgBwB,EAEhB","sources":["webpack://ticketweb-frontstage/./src/views/UserInfo.vue","webpack://ticketweb-frontstage/./src/views/UserInfo.vue?8656"],"sourcesContent":["<template>\r\n    <div class=\"my-4\">\r\n        <form @submit.prevent=\"submitUserInfo\" class=\"row g-3\">\r\n                <div class=\"col-md-6\">\r\n                    <label for=\"userName\" class=\"form-label\">會員姓名</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"userName\" v-model=\"userInfo.name\" placeholder=\"請填寫全名\" required>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label for=\"userTel\" class=\"form-label\">連絡電話</label>\r\n                    <input type=\"tel\" class=\"form-control\" id=\"userTel\" v-model=\"userInfo.tel\" placeholder=\"09xxxxxxxx\" required>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label for=\"userEmail\" class=\"form-label\">電子信箱</label>\r\n                    <input type=\"email\" class=\"form-control\" id=\"userEmail\" v-model=\"userInfo.email\" disabled>\r\n                </div>\r\n                \r\n                <div class=\"col-12 d-flex align-items-center justify-content-end\">\r\n                    \r\n                    <button type=\"reset\" class=\"btn btn-cancel me-3\">取消</button>\r\n                   \r\n                    <button type=\"submit\" class=\"btn btn-primary\">儲存</button>\r\n                </div>\r\n            </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport {computed,ref} from 'vue'\r\nimport {useStore} from 'vuex'\r\nexport default {\r\n    name: 'UserInfo',\r\n    setup(){\r\n        //會員資料\r\n        const store = useStore()\r\n        const userData = computed(()=>store.getters.user)\r\n\r\n        const userInfo = ref({\r\n            name: userData.value.displayName,\r\n            tel: userData.value.phoneNumber,\r\n            email: userData.value.email\r\n        })\r\n\r\n        function submitUserInfo(){\r\n            const user = firebase.auth(firebase.apps[1]).currentUser;\r\n            \r\n            user.updateProfile({\r\n                displayName: userInfo.value.name,\r\n            }).then(()=>{\r\n                alert('更新成功，下次登入結帳時即可直接帶入資料')\r\n            }).catch((error)=>{\r\n                alert(error)\r\n            })\r\n\r\n            store.dispatch('resetUserInfo',user)\r\n        }\r\n\r\n        return{\r\n            userData,\r\n            userInfo,\r\n            submitUserInfo\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./UserInfo.vue?vue&type=template&id=3e509ffb\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"names":["class","for","type","submitUserInfo","id","userInfo","name","placeholder","required","tel","email","disabled","setup","store","userData","getters","user","value","displayName","phoneNumber","currentUser","updateProfile","then","alert","catch","error","dispatch","render"],"sourceRoot":""}