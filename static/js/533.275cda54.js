"use strict";(self["webpackChunkticketweb_frontstage"]=self["webpackChunkticketweb_frontstage"]||[]).push([[533],{533:function(e,a,s){s.r(a),s.d(a,{default:function(){return Y}});var t=s(252);const l={class:"admin py-5"},i={key:0,class:"container d-flex flex-column align-items-center"},r=(0,t._)("ul",{class:"nav pb-4",id:"pills-tab",role:"tablist"},[(0,t._)("li",{class:"me-3",role:"presentation"},[(0,t._)("button",{class:"btn btn-outline-primary active",id:"login","data-bs-toggle":"pill","data-bs-target":"#pills-login",type:"button",role:"tab","aria-controls":"pills-login","aria-selected":"true"},"會員登入")]),(0,t._)("li",{role:"presentation"},[(0,t._)("button",{class:"btn btn-outline-primary",id:"pills-register-tab","data-bs-toggle":"pill","data-bs-target":"#pills-register",type:"button",role:"tab","aria-controls":"pills-register","aria-selected":"false"},"會員註冊")])],-1),n={class:"tab-content border-top border-3",id:"pills-tabContent"},o={class:"tab-pane fade show active",id:"pills-login",role:"tabpanel","aria-labelledby":"pills-login-tab"},d={class:"tab-pane fade",id:"pills-register",role:"tabpanel","aria-labelledby":"pills-register-tab"},c={key:1,class:"container"},p={class:"d-flex justify-content-between"},u={class:"d-flex"},b=(0,t.Uk)("修改會員資料"),m=(0,t.Uk)("查看票券"),f=(0,t._)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," 登出 ",-1),g={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_={class:"modal-dialog"},v={class:"modal-content"},w=(0,t._)("div",{class:"modal-header"},[(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y=(0,t._)("div",{class:"modal-body text-center"}," 登出後，尚未完成結帳之商品將被清除! ",-1),x={class:"modal-footer"},k=(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"保持登入",-1);function h(e,a,s,h,U,P){const C=(0,t.up)("Login"),L=(0,t.up)("Register"),R=(0,t.up)("router-link"),q=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)("div",l,[null==h.user?((0,t.wg)(),(0,t.iD)("div",i,[r,(0,t._)("div",n,[(0,t._)("div",o,[(0,t.Wm)(C)]),(0,t._)("div",d,[(0,t.Wm)(L)])])])):((0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("div",p,[(0,t._)("div",u,[(0,t.Wm)(R,{to:{name:"UserInfo"},class:"btn btn-outline-primary me-3"},{default:(0,t.w5)((()=>[b])),_:1}),(0,t.Wm)(R,{to:{name:"MyTicket"},class:"btn btn-outline-primary"},{default:(0,t.w5)((()=>[m])),_:1})]),f]),(0,t.Wm)(q),(0,t._)("div",g,[(0,t._)("div",_,[(0,t._)("div",v,[w,y,(0,t._)("div",x,[k,(0,t._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=e=>h.logout())},"確認登出")])])])])]))])}var U=s(963);const P={class:"login pt-4"},C={class:"d-flex flex-column mb-2"},L=(0,t._)("label",{class:"mb-1",for:"email"},"帳號信箱",-1),R={class:"d-flex flex-column mb-2"},q=(0,t._)("label",{class:"mb-1",for:"password"},"帳號密碼",-1),D=(0,t._)("div",{class:"d-flex flex-column pt-3"},[(0,t._)("input",{class:"btn btn-primary",type:"submit",value:"登入"})],-1);function H(e,a,s,l,i,r){return(0,t.wg)(),(0,t.iD)("div",P,[(0,t._)("form",{onSubmit:a[2]||(a[2]=(0,U.iM)(((...e)=>l.Login&&l.Login(...e)),["prevent"]))},[(0,t._)("div",C,[L,(0,t.wy)((0,t._)("input",{class:"fs-5 mb-2",type:"email",id:"email",placeholder:"輸入信箱","onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),required:""},null,512),[[U.nr,l.email]])]),(0,t._)("div",R,[q,(0,t.wy)((0,t._)("input",{class:"fs-5 mb-2",type:"password",placeholder:"輸入密碼","onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),required:""},null,512),[[U.nr,l.password]])]),D],32)])}var V=s(262),W=s(709),B={name:"Login",setup(){const e=(0,W.oR)(),a=(0,V.iH)(""),s=(0,V.iH)("");function t(){e.dispatch("loginUser",{email:a.value,password:s.value})}return{email:a,password:s,Login:t}}};B.render=H;var M=B,F=s(577);const S={class:"register pt-4"},Z={class:"d-flex flex-column mb-2"},j=(0,t._)("label",{class:"mb-1",for:"setemail"},"帳號信箱",-1),z={class:"d-flex flex-column mb-2"},A=(0,t._)("label",{class:"mb-1",for:"setpassword"},"帳號密碼",-1),I={class:"d-flex flex-column mb-2"},T={class:"mb-1",for:"setconfirmPassword"},E=(0,t.Uk)("確認密碼 "),G={class:"fs-6 text-danger"},J=(0,t._)("div",{class:"d-flex flex-column pt-3"},[(0,t._)("input",{class:"btn btn-primary",type:"submit",value:"註冊"})],-1);function K(e,a,s,l,i,r){return(0,t.wg)(),(0,t.iD)("div",S,[(0,t._)("form",{onSubmit:a[3]||(a[3]=(0,U.iM)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,t._)("div",Z,[j,(0,t.wy)((0,t._)("input",{class:"fs-5 mb-2",type:"email",id:"setemail",placeholder:"輸入信箱","onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),required:""},null,512),[[U.nr,l.email]])]),(0,t._)("div",z,[A,(0,t.wy)((0,t._)("input",{class:"fs-5 mb-2",type:"password",id:"setpassword",placeholder:"輸入密碼","onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),required:""},null,512),[[U.nr,l.password]])]),(0,t._)("div",I,[(0,t._)("label",T,[E,(0,t._)("span",G,(0,F.zw)(l.comparePassword),1)]),(0,t.wy)((0,t._)("input",{class:"fs-5 mb-2",type:"Password",id:"setconfirmPassword",placeholder:"再次輸入密碼","onUpdate:modelValue":a[2]||(a[2]=e=>l.confirmPassword=e),required:""},null,512),[[U.nr,l.confirmPassword]])]),J],32)])}var N={name:"Register",setup(){const e=(0,W.oR)(),a=(0,V.iH)(""),s=(0,V.iH)(""),t=(0,V.iH)(""),l=(0,V.Fl)((()=>s.value!==t.value?"密碼不相符":""));function i(){e.dispatch("registerUser",{email:a.value,password:s.value})}return{email:a,password:s,confirmPassword:t,comparePassword:l,register:i}}};N.render=K;var O=N,Q=s(503),X=(s(397),{name:"Admin",components:{Login:M,Register:O},setup(){const e=(0,W.oR)(),a=Q.Z.auth(Q.Z.apps[1]).currentUser;async function s(){e.dispatch("logout"),e.dispatch("clearCart")}return(0,t.wF)((()=>{e.dispatch("getCurrentUser")})),{user:a,logout:s}}});X.render=h;var Y=X}}]);
//# sourceMappingURL=533.275cda54.js.map