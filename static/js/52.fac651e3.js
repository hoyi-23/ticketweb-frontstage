"use strict";(self["webpackChunkticketweb_frontstage"]=self["webpackChunkticketweb_frontstage"]||[]).push([[52],{52:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var s=a(252);const l={class:"admin py-5"},i={key:0,class:"container d-flex flex-column align-items-center"},r=(0,s._)("ul",{class:"nav pb-4",id:"pills-tab",role:"tablist"},[(0,s._)("li",{class:"me-3",role:"presentation"},[(0,s._)("button",{class:"btn btn-outline-primary active",id:"login","data-bs-toggle":"pill","data-bs-target":"#pills-login",type:"button",role:"tab","aria-controls":"pills-login","aria-selected":"true"},"會員登入")]),(0,s._)("li",{role:"presentation"},[(0,s._)("button",{class:"btn btn-outline-primary",id:"pills-register-tab","data-bs-toggle":"pill","data-bs-target":"#pills-register",type:"button",role:"tab","aria-controls":"pills-register","aria-selected":"false"},"會員註冊")])],-1),o={class:"tab-content border-top border-3",id:"pills-tabContent"},n={class:"tab-pane fade show active",id:"pills-login",role:"tabpanel","aria-labelledby":"pills-login-tab"},d={class:"tab-pane fade",id:"pills-register",role:"tabpanel","aria-labelledby":"pills-register-tab"},c={key:1,class:"container"},u={class:"d-flex justify-content-between"},p={class:"d-flex"},b=(0,s.Uk)("修改會員資料"),m=(0,s.Uk)("查看票券"),f=(0,s._)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," 登出 ",-1),g={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_={class:"modal-dialog"},v={class:"modal-content"},w=(0,s._)("div",{class:"modal-header"},[(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y=(0,s._)("div",{class:"modal-body text-center"}," 登出後，尚未完成結帳之商品將被清除! ",-1),k={class:"modal-footer"},h=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"保持登入",-1);function x(e,t,a,x,U,C){const P=(0,s.up)("Login"),L=(0,s.up)("Register"),q=(0,s.up)("router-link"),D=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",l,[null==x.user?((0,s.wg)(),(0,s.iD)("div",i,[r,(0,s._)("div",o,[(0,s._)("div",n,[(0,s.Wm)(P)]),(0,s._)("div",d,[(0,s.Wm)(L)])])])):((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",u,[(0,s._)("div",p,[(0,s.Wm)(q,{to:{name:"UserInfo"},class:"btn btn-outline-primary me-3"},{default:(0,s.w5)((()=>[b])),_:1}),(0,s.Wm)(q,{to:{name:"MyTicket"},class:"btn btn-outline-primary"},{default:(0,s.w5)((()=>[m])),_:1})]),(0,s._)("div",null,[x.cart.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",onClick:t[0]||(t[0]=e=>x.gotoCheckout()),class:"btn btn-secondary me-2"}," 前往結帳 ")):(0,s.kq)("",!0),f])]),(0,s.Wm)(D),(0,s._)("div",g,[(0,s._)("div",_,[(0,s._)("div",v,[w,y,(0,s._)("div",k,[h,(0,s._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=e=>x.logout())},"確認登出")])])])])]))])}var U=a(963);const C={class:"login pt-4"},P={class:"d-flex flex-column mb-2"},L=(0,s._)("label",{class:"mb-1",for:"email"},"帳號信箱",-1),q={class:"d-flex flex-column mb-2"},D=(0,s._)("label",{class:"mb-1",for:"password"},"帳號密碼",-1),R=(0,s._)("div",{class:"d-flex flex-column pt-3"},[(0,s._)("input",{class:"btn btn-primary",type:"submit",value:"登入"})],-1);function H(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,U.iM)(((...e)=>l.Login&&l.Login(...e)),["prevent"]))},[(0,s._)("div",P,[L,(0,s.wy)((0,s._)("input",{class:"fs-5 mb-2",type:"email",id:"email",placeholder:"輸入信箱","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),required:""},null,512),[[U.nr,l.email]])]),(0,s._)("div",q,[D,(0,s.wy)((0,s._)("input",{class:"fs-5 mb-2",type:"password",placeholder:"輸入密碼","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),required:""},null,512),[[U.nr,l.password]])]),R],32)])}var V=a(262),W=a(709),F={name:"Login",setup(){const e=(0,W.oR)(),t=(0,V.iH)(""),a=(0,V.iH)("");function s(){e.dispatch("loginUser",{email:t.value,password:a.value})}return{email:t,password:a,Login:s}}};F.render=H;var B=F,M=a(577);const S={class:"register pt-4"},j={class:"d-flex flex-column mb-2"},z=(0,s._)("label",{class:"mb-1",for:"setemail"},"帳號信箱",-1),A={class:"d-flex flex-column mb-2"},I=(0,s._)("label",{class:"mb-1",for:"setpassword"},"帳號密碼",-1),T={class:"d-flex flex-column mb-2"},E={class:"mb-1",for:"setconfirmPassword"},G=(0,s.Uk)("確認密碼 "),J={class:"fs-6 text-danger"},K=(0,s._)("div",{class:"d-flex flex-column pt-3"},[(0,s._)("input",{class:"btn btn-primary",type:"submit",value:"註冊"})],-1);function N(e,t,a,l,i,r){return(0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,U.iM)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,s._)("div",j,[z,(0,s.wy)((0,s._)("input",{class:"fs-5 mb-2",type:"email",id:"setemail",placeholder:"輸入信箱","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),required:""},null,512),[[U.nr,l.email]])]),(0,s._)("div",A,[I,(0,s.wy)((0,s._)("input",{class:"fs-5 mb-2",type:"password",id:"setpassword",placeholder:"輸入密碼","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),required:""},null,512),[[U.nr,l.password]])]),(0,s._)("div",T,[(0,s._)("label",E,[G,(0,s._)("span",J,(0,M.zw)(l.comparePassword),1)]),(0,s.wy)((0,s._)("input",{class:"fs-5 mb-2",type:"Password",id:"setconfirmPassword",placeholder:"再次輸入密碼","onUpdate:modelValue":t[2]||(t[2]=e=>l.confirmPassword=e),required:""},null,512),[[U.nr,l.confirmPassword]])]),K],32)])}var O={name:"Register",setup(){const e=(0,W.oR)(),t=(0,V.iH)(""),a=(0,V.iH)(""),s=(0,V.iH)(""),l=(0,V.Fl)((()=>a.value!==s.value?"密碼不相符":""));function i(){e.dispatch("registerUser",{email:t.value,password:a.value})}return{email:t,password:a,confirmPassword:s,comparePassword:l,register:i}}};O.render=N;var Q=O,X=(a(503),a(397),a(119)),Y={name:"Admin",components:{Login:B,Register:Q},setup(){const e=(0,X.tv)(),t=(0,W.oR)(),a=(0,V.Fl)((()=>t.getters.user)),l=(0,V.Fl)((()=>t.getters.cartContent));async function i(){t.dispatch("logout"),t.dispatch("clearCart")}function r(){e.push("/checkout")}return(0,s.wF)((()=>{t.dispatch("getCurrentUser")})),{user:a,logout:i,cart:l,gotoCheckout:r}}};Y.render=x;var Z=Y}}]);
//# sourceMappingURL=52.fac651e3.js.map